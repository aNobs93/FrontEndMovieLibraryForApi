<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
   

    <title>Movies</title>
    <link rel="stylesheet" type="text/css" href="cssMovies.css" />
    <link rel="stylesheet" href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.8.1/themes/base/jquery-ui.css"/>
    <link href="https://fonts.googleapis.com/css?family=Oswald" rel="stylesheet">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.4/jquery.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.8.1/jquery-ui.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
   <script src="https://ajax.googleapis.com/ajax/libs/mootools/1.6.0/mootools.min.js"></script>
    
    <!-- <script src="jsMovie.js"></script> -->
</head>
    <body onload="createTable()">
        <p>Click the "Add New Row" button to add row to the table. Enter values in each row and press the "Submit Movie" button.</p>

        <p> <input type="button" id="addRow" value="Add New Row" onclick="addRow()" />
    </p>
        <!--THE CONTAINER WHERE WE'll ADD THE DYNAMIC TABLE-->
        <div id="cont"></div>

    <p><input type="button" id="bt" value="Submit Movie" onclick="submit()" /></p>
</body>
   <!-- <header>
        <h1>Movie Database</h1>
    </header>

    <div class="container">
        <table>
            <thead>
                <h1>Check Out Some Movies!</h1>
                <tr>
                </tr>
                  <tr>
                      <th colspan="1">
                          <h2>Title</h2>
                      </th>
                      <th colspan="1">
                          <h2>Genre</h2>
                      </th>
                      <th colspan="1">
                          <h2>Director</h2>
                      </th>
                      <th colspan="1">
                        <h2>Movie Poster</h2>
                    </th>
                  </tr>
            </thead>
        <tbody>
              <tr><td class="left"><h4 id="Title"><a href="https://www.imdb.com/title/tt0407887/?ref_=fn_al_tt_1">The Departed</a></h4></td>
                <td><h4 id="Genre">Drama</h4></td>
                <td><h4 id="Director">Martin Scorsese</h4></td>
                <td><img src="https://imgc.allpostersimages.com/img/print/u-g-F4Q3T40.jpg?w=900&h=900&p=0" width="150" height="150"/></td>
            </tr>
              <tr><td class="left"><h4><a href="https://www.imdb.com/title/tt0468569/?ref_=nv_sr_srsg_0">The Dark Knight</a></h4></td>
                <td><h4>Drama</h4></td>
                <td><h4>Christopher Nolan</h4></td>
                <td><img src="https://images-na.ssl-images-amazon.com/images/I/81AJdOIEIhL._SY606_.jpg" width="150" height="150"/></td>
            </tr>
              <tr><td class="left"><h4><a href="https://www.imdb.com/title/tt1375666/?ref_=nv_sr_srsg_0">Inception</a></h4></td>
                <td><h4>Inception</h4></td>
                <td><h4>Christopher Nolan</h4></td>
                <td><img src="https://cdn.shopify.com/s/files/1/1416/8662/products/inception_2010_advance_original_film_art_66f46508-3e2b-4de3-aa71-db767549e17d_2000x.jpg?v=1577405010" width="150" height="150"/></td>
            </tr>
              <tr><td class="left"><h4><a href="https://www.imdb.com/title/tt0910936/?ref_=nv_sr_srsg_0">Pineapple Express</a></h4></td>
                <td><h4>Comedy</h4></td>
                <td><h4>David Gordon</h4></td>
                <td><img src="https://images-na.ssl-images-amazon.com/images/I/51KeJzRtqDL._SY450_.jpg" width="150" height="150"/></td>
            </tr>
              <tr><td class="left"><h4><a href="https://www.imdb.com/title/tt0095016/?ref_=nv_sr_srsg_0">Die Hard</a></h4></td>
                <td><h4>Action</h4></td>
                <td><h4>John Mctiernan</h4></td>
                <td><img src="https://images-na.ssl-images-amazon.com/images/I/51l7e1ENZvL._AC_.jpg" width="150" height="150"/></td>
            </tr> 
 </tbody>
        </table>
    </div> -->

  <!--  <footer>
        <h3><a href="https://www.imdb.com">IMDB</a></h3>
        <h3></h3>
        <h3></h3>
    </footer> -->
    <script>
    var arrHead = new Array();
    arrHead = ['', 'Title', 'Genre', 'Director'];
    
    function createTable() {
        var movieTable = document.createElement('table');
        movieTable.setAttribute('id', 'movieTable');

        var tr = movieTable.insertRow(-1);

        for (var h = 0; h < arrHead.length; h++) {
            var th = document.createElement('th'); 

            th.innerHTML = arrHead[h];
            tr.appendChild(th);
        }

        var div = document.getElementById('cont');
        div.appendChild(movieTable);
    }

    function addRow() {
        var movTab = document.getElementById('movieTable');

        var rowCnt = movTab.rows.length; 
        var tr = movTab.insertRow(rowCnt);      // TABLE ROW.
        tr = movTab.insertRow(rowCnt);

        for (var c = 0; c < arrHead.length; c++) {
            var td = document.createElement('td');
            td = tr.insertCell(c);

if (c == 0) {           // FIRST COLUMN.
    // ADD A BUTTON.
    var button = document.createElement('input');

    // SET INPUT ATTRIBUTE.
    button.setAttribute('type', 'button');
    button.setAttribute('value', 'Remove');

    // ADD THE BUTTON's 'onclick' EVENT.
    button.setAttribute('onclick', 'removeRow(this)');

    td.appendChild(button);
}
else {
    // CREATE AND ADD TEXTBOX IN EACH CELL.
    var ele = document.createElement('input');
    ele.setAttribute('type', 'text');
    ele.setAttribute('value', '');

    td.appendChild(ele);
}
}
}

 // DELETE TABLE ROW.
 function removeRow(oButton) {
        var movTab = document.getElementById('movieTable');
        movTab.deleteRow(oButton.parentNode.parentNode.rowIndex);       // BUTTON -> TD -> TR.
    }

    // EXTRACT AND SUBMIT TABLE DATA.
    function submit() {
        var myTab = document.getElementById('movieTable');
        var values = new Array();

        // LOOP THROUGH EACH ROW OF THE TABLE.
        for (row = 1; row < myTab.rows.length - 1; row++) {
            for (c = 0; c < myTab.rows[row].cells.length; c++) {   // EACH CELL IN A ROW.

                var element = myTab.rows.item(row).cells[c];
                if (element.childNodes[0].getAttribute('type') == 'text') {
                    values.push("'" + element.childNodes[0].value + "'");
                }
            }
        }
        
        // SHOW THE RESULT IN THE CONSOLE WINDOW.
        console.log(values);
    }
    </script>
    <script class id = "url" src="https://localhost:44352/api/Movie"></script>
    <script src = "https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script>
    $(function(){
        $.ajax({
            type: 'Get',
            url: 'https://localhost:44352/Api/Movie',
            success: function(data){
                console.log('success', data);
            }
        });
    });</script>

</html>
